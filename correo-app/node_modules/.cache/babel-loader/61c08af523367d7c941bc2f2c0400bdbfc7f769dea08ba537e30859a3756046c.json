{"ast":null,"code":"var _jsxFileName = \"/Users/alberto/Desktop/Ejercicio/react/correo-app/src/EmailForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport io from 'socket.io-client';\nimport { Button, TextField, TextareaAutosize, Grid, Typography } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [recipient, setRecipient] = useState('');\n  const [subject, setSubject] = useState('');\n  const [body, setBody] = useState('');\n  const [senderEmail, setSenderEmail] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [notification, setNotification] = useState('');\n  useEffect(() => {\n    const socket = io('http://localhost:3000');\n    socket.on('emailSent', data => {\n      setNotification(data.message);\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n  const handleImageUpload = async () => {\n    if (selectedImage) {\n      setLoading(true);\n      try {\n        const formData = new FormData();\n        formData.append('image', selectedImage);\n        formData.append('recipient', recipient);\n        formData.append('subject', subject);\n        formData.append('body', body);\n        formData.append('senderEmail', senderEmail);\n        await axios.post('http://localhost:3001/upload', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        console.log('Imagen cargada con éxito');\n      } catch (error) {\n        setErrorMessage(error.response ? error.response.data : error.message);\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n  const handleFileChange = event => {\n    setSelectedImage(event.target.files[0]);\n    setErrorMessage('');\n  };\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    spacing: 2,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    style: {\n      minHeight: '100vh'\n    },\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 10,\n      sm: 8,\n      md: 6,\n      lg: 4,\n      children: [notification && /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"textPrimary\",\n        align: \"center\",\n        style: {\n          marginBottom: '1rem'\n        },\n        children: notification\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: handleFileChange,\n        style: {\n          display: 'none'\n        },\n        id: \"upload-file\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"upload-file\",\n        style: {\n          display: 'block',\n          marginBottom: '1rem'\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          component: \"span\",\n          color: \"primary\",\n          fullWidth: true,\n          children: selectedImage ? 'Imagen cargada' : 'Cargar imagen'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Destinatario\",\n        value: recipient,\n        onChange: event => setRecipient(event.target.value),\n        variant: \"outlined\",\n        fullWidth: true,\n        margin: \"normal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Asunto\",\n        value: subject,\n        onChange: event => setSubject(event.target.value),\n        variant: \"outlined\",\n        fullWidth: true,\n        margin: \"normal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextareaAutosize, {\n        placeholder: \"Cuerpo\",\n        value: body,\n        onChange: event => setBody(event.target.value),\n        minRows: 3,\n        maxRows: 6,\n        style: {\n          width: '100%',\n          padding: '10px',\n          border: '1px solid #ccc',\n          borderRadius: '4px',\n          marginBottom: '1rem'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        type: \"email\",\n        label: \"Correo de env\\xEDo\",\n        value: senderEmail,\n        onChange: event => setSenderEmail(event.target.value),\n        variant: \"outlined\",\n        fullWidth: true,\n        margin: \"normal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleImageUpload,\n        disabled: !selectedImage || loading,\n        variant: \"contained\",\n        color: \"primary\",\n        fullWidth: true,\n        size: \"large\",\n        style: {\n          marginTop: '1rem'\n        },\n        children: loading ? 'Enviando...' : 'Enviar push'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), errorMessage && /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"error\",\n        align: \"center\",\n        style: {\n          marginTop: '1rem'\n        },\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"t+qTAiel4PiGy9gwlCGhWzfbDeo=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","io","Button","TextField","TextareaAutosize","Grid","Typography","jsxDEV","_jsxDEV","App","_s","selectedImage","setSelectedImage","recipient","setRecipient","subject","setSubject","body","setBody","senderEmail","setSenderEmail","loading","setLoading","errorMessage","setErrorMessage","notification","setNotification","socket","on","data","message","disconnect","handleImageUpload","formData","FormData","append","post","headers","console","log","error","response","handleFileChange","event","target","files","container","spacing","justifyContent","alignItems","style","minHeight","children","item","xs","sm","md","lg","variant","color","align","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","display","id","htmlFor","component","fullWidth","label","value","margin","placeholder","minRows","maxRows","width","padding","border","borderRadius","onClick","disabled","size","marginTop","_c","$RefreshReg$"],"sources":["/Users/alberto/Desktop/Ejercicio/react/correo-app/src/EmailForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport io from 'socket.io-client';\nimport { Button, TextField, TextareaAutosize, Grid, Typography } from '@mui/material';\n\nconst App = () => {\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [recipient, setRecipient] = useState('');\n  const [subject, setSubject] = useState('');\n  const [body, setBody] = useState('');\n  const [senderEmail, setSenderEmail] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [notification, setNotification] = useState('');\n\n  useEffect(() => {\n    const socket = io('http://localhost:3000');\n    socket.on('emailSent', (data) => {\n      setNotification(data.message);\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleImageUpload = async () => {\n    if (selectedImage) {\n      setLoading(true);\n      try {\n        const formData = new FormData();\n        formData.append('image', selectedImage);\n        formData.append('recipient', recipient);\n        formData.append('subject', subject);\n        formData.append('body', body);\n        formData.append('senderEmail', senderEmail);\n\n        await axios.post('http://localhost:3001/upload', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n\n        console.log('Imagen cargada con éxito');\n      } catch (error) {\n        setErrorMessage(\n          error.response ? error.response.data : error.message\n        );\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n\n  const handleFileChange = (event) => {\n    setSelectedImage(event.target.files[0]);\n    setErrorMessage('');\n  };\n\n  return (\n    <Grid container spacing={2} justifyContent=\"center\" alignItems=\"center\" style={{ minHeight: '100vh' }}>\n      <Grid item xs={10} sm={8} md={6} lg={4}>\n        {notification && (\n          <Typography variant=\"body2\" color=\"textPrimary\" align=\"center\" style={{ marginBottom: '1rem' }}>\n            {notification}\n          </Typography>\n        )}\n\n        <input type=\"file\" onChange={handleFileChange} style={{ display: 'none' }} id=\"upload-file\" />\n        <label htmlFor=\"upload-file\" style={{ display: 'block', marginBottom: '1rem' }}>\n          <Button variant=\"contained\" component=\"span\" color=\"primary\" fullWidth>\n            {selectedImage ? 'Imagen cargada' : 'Cargar imagen'}\n          </Button>\n        </label>\n\n        <TextField\n          label=\"Destinatario\"\n          value={recipient}\n          onChange={(event) => setRecipient(event.target.value)}\n          variant=\"outlined\"\n          fullWidth\n          margin=\"normal\"\n        />\n\n        <TextField\n          label=\"Asunto\"\n          value={subject}\n          onChange={(event) => setSubject(event.target.value)}\n          variant=\"outlined\"\n          fullWidth\n          margin=\"normal\"\n        />\n\n        <TextareaAutosize\n          placeholder=\"Cuerpo\"\n          value={body}\n          onChange={(event) => setBody(event.target.value)}\n          minRows={3}\n          maxRows={6}\n          style={{ width: '100%', padding: '10px', border: '1px solid #ccc', borderRadius: '4px', marginBottom: '1rem' }}\n        />\n\n        <TextField\n          type=\"email\"\n          label=\"Correo de envío\"\n          value={senderEmail}\n          onChange={(event) => setSenderEmail(event.target.value)}\n          variant=\"outlined\"\n          fullWidth\n          margin=\"normal\"\n        />\n\n        <Button\n          onClick={handleImageUpload}\n          disabled={!selectedImage || loading}\n          variant=\"contained\"\n          color=\"primary\"\n          fullWidth\n          size=\"large\"\n          style={{ marginTop: '1rem' }}\n        >\n          {loading ? 'Enviando...' : 'Enviar push'}\n        </Button>\n\n        {errorMessage && (\n          <Typography variant=\"body2\" color=\"error\" align=\"center\" style={{ marginTop: '1rem' }}>\n            {errorMessage}\n          </Typography>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default App;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,EAAE,MAAM,kBAAkB;AACjC,SAASC,MAAM,EAAEC,SAAS,EAAEC,gBAAgB,EAAEC,IAAI,EAAEC,UAAU,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtF,MAAMC,GAAG,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChB,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACe,SAAS,EAAEC,YAAY,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACiB,OAAO,EAAEC,UAAU,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACmB,IAAI,EAAEC,OAAO,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACqB,WAAW,EAAEC,cAAc,CAAC,GAAGtB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACuB,OAAO,EAAEC,UAAU,CAAC,GAAGxB,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACyB,YAAY,EAAEC,eAAe,CAAC,GAAG1B,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAAC2B,YAAY,EAAEC,eAAe,CAAC,GAAG5B,QAAQ,CAAC,EAAE,CAAC;EAEpDC,SAAS,CAAC,MAAM;IACd,MAAM4B,MAAM,GAAG1B,EAAE,CAAC,uBAAuB,CAAC;IAC1C0B,MAAM,CAACC,EAAE,CAAC,WAAW,EAAGC,IAAI,IAAK;MAC/BH,eAAe,CAACG,IAAI,CAACC,OAAO,CAAC;IAC/B,CAAC,CAAC;IAEF,OAAO,MAAM;MACXH,MAAM,CAACI,UAAU,CAAC,CAAC;IACrB,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,IAAIrB,aAAa,EAAE;MACjBW,UAAU,CAAC,IAAI,CAAC;MAChB,IAAI;QACF,MAAMW,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;QAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAExB,aAAa,CAAC;QACvCsB,QAAQ,CAACE,MAAM,CAAC,WAAW,EAAEtB,SAAS,CAAC;QACvCoB,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAEpB,OAAO,CAAC;QACnCkB,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAElB,IAAI,CAAC;QAC7BgB,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAEhB,WAAW,CAAC;QAE3C,MAAMnB,KAAK,CAACoC,IAAI,CAAC,8BAA8B,EAAEH,QAAQ,EAAE;UACzDI,OAAO,EAAE;YACP,cAAc,EAAE;UAClB;QACF,CAAC,CAAC;QAEFC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;MACzC,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdhB,eAAe,CACbgB,KAAK,CAACC,QAAQ,GAAGD,KAAK,CAACC,QAAQ,CAACZ,IAAI,GAAGW,KAAK,CAACV,OAC/C,CAAC;MACH,CAAC,SAAS;QACRR,UAAU,CAAC,KAAK,CAAC;MACnB;IACF;EACF,CAAC;EAED,MAAMoB,gBAAgB,GAAIC,KAAK,IAAK;IAClC/B,gBAAgB,CAAC+B,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;IACvCrB,eAAe,CAAC,EAAE,CAAC;EACrB,CAAC;EAED,oBACEhB,OAAA,CAACH,IAAI;IAACyC,SAAS;IAACC,OAAO,EAAE,CAAE;IAACC,cAAc,EAAC,QAAQ;IAACC,UAAU,EAAC,QAAQ;IAACC,KAAK,EAAE;MAAEC,SAAS,EAAE;IAAQ,CAAE;IAAAC,QAAA,eACpG5C,OAAA,CAACH,IAAI;MAACgD,IAAI;MAACC,EAAE,EAAE,EAAG;MAACC,EAAE,EAAE,CAAE;MAACC,EAAE,EAAE,CAAE;MAACC,EAAE,EAAE,CAAE;MAAAL,QAAA,GACpC3B,YAAY,iBACXjB,OAAA,CAACF,UAAU;QAACoD,OAAO,EAAC,OAAO;QAACC,KAAK,EAAC,aAAa;QAACC,KAAK,EAAC,QAAQ;QAACV,KAAK,EAAE;UAAEW,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,EAC5F3B;MAAY;QAAAqC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACb,eAEDzD,OAAA;QAAO0D,IAAI,EAAC,MAAM;QAACC,QAAQ,EAAEzB,gBAAiB;QAACQ,KAAK,EAAE;UAAEkB,OAAO,EAAE;QAAO,CAAE;QAACC,EAAE,EAAC;MAAa;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAC9FzD,OAAA;QAAO8D,OAAO,EAAC,aAAa;QAACpB,KAAK,EAAE;UAAEkB,OAAO,EAAE,OAAO;UAAEP,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,eAC7E5C,OAAA,CAACN,MAAM;UAACwD,OAAO,EAAC,WAAW;UAACa,SAAS,EAAC,MAAM;UAACZ,KAAK,EAAC,SAAS;UAACa,SAAS;UAAApB,QAAA,EACnEzC,aAAa,GAAG,gBAAgB,GAAG;QAAe;UAAAmD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7C;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC,eAERzD,OAAA,CAACL,SAAS;QACRsE,KAAK,EAAC,cAAc;QACpBC,KAAK,EAAE7D,SAAU;QACjBsD,QAAQ,EAAGxB,KAAK,IAAK7B,YAAY,CAAC6B,KAAK,CAACC,MAAM,CAAC8B,KAAK,CAAE;QACtDhB,OAAO,EAAC,UAAU;QAClBc,SAAS;QACTG,MAAM,EAAC;MAAQ;QAAAb,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChB,CAAC,eAEFzD,OAAA,CAACL,SAAS;QACRsE,KAAK,EAAC,QAAQ;QACdC,KAAK,EAAE3D,OAAQ;QACfoD,QAAQ,EAAGxB,KAAK,IAAK3B,UAAU,CAAC2B,KAAK,CAACC,MAAM,CAAC8B,KAAK,CAAE;QACpDhB,OAAO,EAAC,UAAU;QAClBc,SAAS;QACTG,MAAM,EAAC;MAAQ;QAAAb,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChB,CAAC,eAEFzD,OAAA,CAACJ,gBAAgB;QACfwE,WAAW,EAAC,QAAQ;QACpBF,KAAK,EAAEzD,IAAK;QACZkD,QAAQ,EAAGxB,KAAK,IAAKzB,OAAO,CAACyB,KAAK,CAACC,MAAM,CAAC8B,KAAK,CAAE;QACjDG,OAAO,EAAE,CAAE;QACXC,OAAO,EAAE,CAAE;QACX5B,KAAK,EAAE;UAAE6B,KAAK,EAAE,MAAM;UAAEC,OAAO,EAAE,MAAM;UAAEC,MAAM,EAAE,gBAAgB;UAAEC,YAAY,EAAE,KAAK;UAAErB,YAAY,EAAE;QAAO;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChH,CAAC,eAEFzD,OAAA,CAACL,SAAS;QACR+D,IAAI,EAAC,OAAO;QACZO,KAAK,EAAC,oBAAiB;QACvBC,KAAK,EAAEvD,WAAY;QACnBgD,QAAQ,EAAGxB,KAAK,IAAKvB,cAAc,CAACuB,KAAK,CAACC,MAAM,CAAC8B,KAAK,CAAE;QACxDhB,OAAO,EAAC,UAAU;QAClBc,SAAS;QACTG,MAAM,EAAC;MAAQ;QAAAb,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChB,CAAC,eAEFzD,OAAA,CAACN,MAAM;QACLiF,OAAO,EAAEnD,iBAAkB;QAC3BoD,QAAQ,EAAE,CAACzE,aAAa,IAAIU,OAAQ;QACpCqC,OAAO,EAAC,WAAW;QACnBC,KAAK,EAAC,SAAS;QACfa,SAAS;QACTa,IAAI,EAAC,OAAO;QACZnC,KAAK,EAAE;UAAEoC,SAAS,EAAE;QAAO,CAAE;QAAAlC,QAAA,EAE5B/B,OAAO,GAAG,aAAa,GAAG;MAAa;QAAAyC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClC,CAAC,EAER1C,YAAY,iBACXf,OAAA,CAACF,UAAU;QAACoD,OAAO,EAAC,OAAO;QAACC,KAAK,EAAC,OAAO;QAACC,KAAK,EAAC,QAAQ;QAACV,KAAK,EAAE;UAAEoC,SAAS,EAAE;QAAO,CAAE;QAAAlC,QAAA,EACnF7B;MAAY;QAAAuC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACb;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEX,CAAC;AAACvD,EAAA,CA/HID,GAAG;AAAA8E,EAAA,GAAH9E,GAAG;AAiIT,eAAeA,GAAG;AAAC,IAAA8E,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}